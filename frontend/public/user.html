<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Member Runs — Redirecting</title>
    <script>
      // Redirect to SPA /user/{id} when ?id= is provided, preserving other query params
      (function(){
        try {
          var qs = window.location.search || '';
          var params = new URLSearchParams(qs);
          var id = params.get('id') || params.get('athlete_id');
          if (id) {
            // remove id so we can append remaining params after the path
            params.delete('id'); params.delete('athlete_id');
            var rest = params.toString();
            window.location.replace('/user/' + encodeURIComponent(id) + (rest ? ('?' + rest) : ''));
          } else {
            window.location.replace('/user' + qs);
          }
        } catch(e) {
          window.location.replace('/user');
        }
      })();
    </script>
  </head>
  <body>
    Redirecting to app…
  </body>
</html>